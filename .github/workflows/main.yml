# üõ∏ OMNITRIX VPS SESSION - BEN 10 ALIEN FORCE EDITION üëΩ
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
#                    üîã POWERED BY ALIEN TECHNOLOGY üîã
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

name: "üõ∏ OMNITRIX VPS - Ben 10 Alien Force Edition üëΩ"

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *'

env:
  BACKUP_NEXUS: /mnt/omnitrix/backups
  BACKUP_ARTIFACT: omnitrix-data-core.tar.gz
  GALVAN_CLOUD: mega:omnitrix-vault
  HERO_SESSION_DURATION: 19800
  PLUMBER_NETWORK: Plumbers-HQ
  
jobs:
  omnitrix_session:
    name: "üõ∏ OMNITRIX UNIVERSE SESSION üëΩ"
    runs-on: ubuntu-22.04
    timeout-minutes: 350
    permissions:
      contents: read
      actions: write
    
    steps:
    - name: "üõ∏ Scanning Universe Repository"
      uses: actions/checkout@v4
      
    - name: "‚ö° DEPLOYING ALIEN TECHNOLOGY SUITE"
      run: |
        set -e
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üõ∏            OMNITRIX SYSTEM ACTIVATION               üëΩ"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üîã Alien Form: Jetray (High-Speed Operations)"
        echo "‚è∞ Mission Start: $(date)"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        # Update package registry
        echo "üõ∏ Updating Galactic Package Registry..."
        sudo apt-get update -qq || {
          echo "‚ö†Ô∏è Primary update failed, trying alternatives..."
          sudo apt-get update --fix-missing -qq || true
        }
        
        # Install rclone with multiple methods
        echo "üîó Installing Plumber Communication Suite..."
        if ! command -v rclone >/dev/null 2>&1; then
          if curl -fsSL https://rclone.org/install.sh | sudo bash; then
            echo "‚úÖ Rclone installed via official installer"
          else
            echo "üîÑ Trying alternative rclone installation..."
            cd /tmp
            if wget -q https://downloads.rclone.org/rclone-current-linux-amd64.zip; then
              sudo apt-get install -y unzip || true
              if unzip -q rclone-current-linux-amd64.zip 2>/dev/null; then
                sudo cp rclone-*/rclone /usr/bin/ && sudo chmod +x /usr/bin/rclone
                echo "‚úÖ Rclone installed via direct download"
              fi
            fi
          fi
        fi
        
        # Install essential tools
        echo "üëΩ Installing Essential Alien Technology..."
        TOOLS="curl wget jq tar gzip unzip openssh-server nano vim git net-tools"
        TOOLS="$TOOLS software-properties-common apt-transport-https ca-certificates"
        TOOLS="$TOOLS gnupg psmisc screen expect tmate mariadb-server mariadb-client"
        
        sudo DEBIAN_FRONTEND=noninteractive apt-get install -y $TOOLS || {
          echo "‚ö†Ô∏è Some tools failed to install, continuing..."
        }
        
        echo "‚úÖ ALIEN TECHNOLOGY DEPLOYMENT COMPLETE! üõ∏"

    - name: "‚òÅÔ∏è GALVAN PRIME CLOUD CONFIGURATION"
      run: |
        set -e
        
        echo "‚òÅÔ∏è Establishing connection to Galvan Prime Cloud..."
        
        if [[ -z "${{ secrets.RCLONE_CONFIG || '' }}" ]]; then
          echo "‚ùå CRITICAL: RCLONE_CONFIG secret missing!"
          exit 1
        fi
        
        # Create config directories
        mkdir -p ~/.config/rclone || true
        sudo mkdir -p /root/.config/rclone || true
        
        # Deploy configuration
        echo "üîê Deploying Galvan Prime credentials..."
        if echo "${{ secrets.RCLONE_CONFIG }}" | base64 -d >/dev/null 2>&1; then
          echo "${{ secrets.RCLONE_CONFIG }}" | base64 -d > ~/.config/rclone/rclone.conf
          echo "${{ secrets.RCLONE_CONFIG }}" | base64 -d | sudo tee /root/.config/rclone/rclone.conf >/dev/null
        else
          echo "${{ secrets.RCLONE_CONFIG }}" > ~/.config/rclone/rclone.conf
          echo "${{ secrets.RCLONE_CONFIG }}" | sudo tee /root/.config/rclone/rclone.conf >/dev/null
        fi
        
        chmod 600 ~/.config/rclone/rclone.conf || true
        sudo chmod 600 /root/.config/rclone/rclone.conf || true
        
        # Test connectivity
        echo "üß™ Testing Galvan Prime connectivity..."
        if rclone lsd mega: >/dev/null 2>&1 || sudo rclone lsd mega: >/dev/null 2>&1; then
          echo "‚úÖ Galvan Prime connection established! üåå"
        else
          echo "‚ö†Ô∏è Connectivity test failed, proceeding with limited cloud features"
        fi

    - name: "üîç SCANNING FOR TEMPORAL DATA CORES"
      id: data_core_scan
      run: |
        set -e
        
        echo "üîç Scanning for temporal data cores..."
        
        RECOVERY_SUCCESS=false
        
        # Check Galvan Prime for backup links
        echo "üõ∏ Scanning Galvan Prime vault..."
        if rclone ls "${GALVAN_CLOUD}/temporal_backup_link.txt" >/dev/null 2>&1 || sudo rclone ls "${GALVAN_CLOUD}/temporal_backup_link.txt" >/dev/null 2>&1; then
          BACKUP_LINK=$(rclone cat "${GALVAN_CLOUD}/temporal_backup_link.txt" 2>/dev/null || sudo rclone cat "${GALVAN_CLOUD}/temporal_backup_link.txt" 2>/dev/null)
          if [[ -n "$BACKUP_LINK" ]]; then
            echo "‚úÖ Found Galvan Prime backup link!"
            echo "has_backup=true" >> $GITHUB_OUTPUT
            echo "backup_source=galvan_prime" >> $GITHUB_OUTPUT
            echo "artifact_url=$BACKUP_LINK" >> $GITHUB_OUTPUT
            RECOVERY_SUCCESS=true
          fi
        fi
        
        # Check GitHub artifacts
        if [[ "$RECOVERY_SUCCESS" == "false" ]]; then
          echo "üîç Scanning GitHub artifacts..."
          WORKFLOW_RESPONSE=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
            "https://api.github.com/repos/${{ github.repository }}/actions/workflows" 2>/dev/null || echo "")
          
          if [[ -n "$WORKFLOW_RESPONSE" ]]; then
            WORKFLOW_ID=$(echo "$WORKFLOW_RESPONSE" | jq -r '.workflows[] | select(.name | test("OMNITRIX|Ben|Persistent"; "i")) | .id' | head -1)
            
            if [[ -n "$WORKFLOW_ID" && "$WORKFLOW_ID" != "null" ]]; then
              RUNS_RESPONSE=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
                "https://api.github.com/repos/${{ github.repository }}/actions/workflows/$WORKFLOW_ID/runs?status=success&per_page=5" 2>/dev/null || echo "")
              
              if [[ -n "$RUNS_RESPONSE" ]]; then
                RECENT_RUN=$(echo "$RUNS_RESPONSE" | jq -r --argjson current "${{ github.run_id }}" '.workflow_runs[] | select(.id != $current) | .id' | head -1)
                
                if [[ -n "$RECENT_RUN" && "$RECENT_RUN" != "null" ]]; then
                  ARTIFACTS_RESPONSE=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
                    "https://api.github.com/repos/${{ github.repository }}/actions/runs/$RECENT_RUN/artifacts" 2>/dev/null || echo "")
                  
                  if [[ -n "$ARTIFACTS_RESPONSE" ]]; then
                    ARTIFACT_ID=$(echo "$ARTIFACTS_RESPONSE" | jq -r '.artifacts[] | select(.name | test("backup|omnitrix|data"; "i")) | .id' | head -1)
                    
                    if [[ -n "$ARTIFACT_ID" && "$ARTIFACT_ID" != "null" ]]; then
                      ARTIFACT_URL="https://api.github.com/repos/${{ github.repository }}/actions/artifacts/$ARTIFACT_ID/zip"
                      echo "‚úÖ Found GitHub artifact backup!"
                      echo "has_backup=true" >> $GITHUB_OUTPUT
                      echo "backup_source=github_artifact" >> $GITHUB_OUTPUT
                      echo "artifact_url=$ARTIFACT_URL" >> $GITHUB_OUTPUT
                      RECOVERY_SUCCESS=true
                    fi
                  fi
                fi
              fi
            fi
          fi
        fi
        
        # Check direct Galvan Prime backups
        if [[ "$RECOVERY_SUCCESS" == "false" ]]; then
          echo "üõ∏ Checking direct Galvan Prime backups..."
          BACKUP_LIST=$(rclone lsf "${GALVAN_CLOUD}/" 2>/dev/null || sudo rclone lsf "${GALVAN_CLOUD}/" 2>/dev/null || echo "")
          if [[ -n "$BACKUP_LIST" ]]; then
            LATEST_BACKUP=$(echo "$BACKUP_LIST" | grep -E "(backup|omnitrix).*\.tar\.gz" | sort -r | head -1)
            if [[ -n "$LATEST_BACKUP" ]]; then
              echo "‚úÖ Found direct Galvan backup!"
              echo "has_backup=true" >> $GITHUB_OUTPUT
              echo "backup_source=galvan_direct" >> $GITHUB_OUTPUT
              echo "backup_file=$LATEST_BACKUP" >> $GITHUB_OUTPUT
              RECOVERY_SUCCESS=true
            fi
          fi
        fi
        
        if [[ "$RECOVERY_SUCCESS" == "false" ]]; then
          echo "‚ÑπÔ∏è No temporal data cores found - fresh installation mode"
          echo "has_backup=false" >> $GITHUB_OUTPUT
          echo "backup_source=none" >> $GITHUB_OUTPUT
        else
          echo "‚úÖ TEMPORAL DATA CORE RECOVERY SUCCESSFUL! üéØ"
        fi

    - name: "üì• TEMPORAL DATA CORE RESTORATION"
      if: steps.data_core_scan.outputs.has_backup == 'true'
      run: |
        set -e
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üì•        TEMPORAL DATA CORE RESTORATION               üëΩ"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üîã Source: ${{ steps.data_core_scan.outputs.backup_source }}"
        
        # Create restoration chamber with full permissions
        RESTORE_CHAMBER="/tmp/omnitrix_restore"
        sudo rm -rf "$RESTORE_CHAMBER" 2>/dev/null || true
        sudo mkdir -p "$RESTORE_CHAMBER"
        sudo chmod 777 "$RESTORE_CHAMBER"
        cd "$RESTORE_CHAMBER"
        
        # Download/restore based on source with enhanced error handling
        case "${{ steps.data_core_scan.outputs.backup_source }}" in
          "galvan_prime"|"github_artifact")
            echo "üåå Downloading from ${{ steps.data_core_scan.outputs.backup_source }}..."
            
            DOWNLOAD_SUCCESS=false
            for attempt in {1..3}; do
              echo "‚¨áÔ∏è Download attempt $attempt/3..."
              
              if sudo curl -L -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
                     "${{ steps.data_core_scan.outputs.artifact_url }}" -o data_core.zip; then
                
                # Verify download
                if [[ -f data_core.zip ]] && [[ -s data_core.zip ]]; then
                  sudo chmod 666 data_core.zip
                  echo "‚úÖ Download successful! Size: $(du -h data_core.zip | cut -f1)"
                  DOWNLOAD_SUCCESS=true
                  break
                else
                  echo "‚ö†Ô∏è Downloaded file is empty or invalid"
                  sudo rm -f data_core.zip 2>/dev/null || true
                fi
              else
                echo "‚ö†Ô∏è Download attempt $attempt failed"
              fi
              
              sleep $((attempt * 3))
            done
            
            if [[ "$DOWNLOAD_SUCCESS" == "false" ]]; then
              echo "‚ùå All download attempts failed"
              exit 1
            fi
            
            # Extract archive with multiple methods and proper permissions
            echo "üì¶ Extracting temporal data core with enhanced permissions..."
            EXTRACT_SUCCESS=false
            
            # Set proper ownership and permissions
            sudo chown root:root data_core.zip
            sudo chmod 644 data_core.zip
            
            # Try multiple extraction methods
            extract_methods=(
              "sudo unzip -o data_core.zip"
              "sudo python3 -m zipfile -e data_core.zip ."
              "unzip -o data_core.zip"
              "sudo 7z x data_core.zip 2>/dev/null"
            )
            
            for method in "${extract_methods[@]}"; do
              echo "üîÑ Trying: $method"
              if eval "$method" 2>/dev/null; then
                EXTRACT_SUCCESS=true
                echo "‚úÖ Extraction successful with: $method"
                break
              else
                echo "‚ö†Ô∏è Method failed: $method"
              fi
            done
            
            if [[ "$EXTRACT_SUCCESS" == "false" ]]; then
              echo "‚ùå All extraction methods failed"
              # Try manual zip handling
              if command -v python3 >/dev/null 2>&1; then
                sudo python3 -c "
            import zipfile
            import os
            with zipfile.ZipFile('data_core.zip', 'r') as zip_ref:
            zip_ref.extractall('.')
            " 2>/dev/null && EXTRACT_SUCCESS=true || echo "‚ö†Ô∏è Python extraction also failed"
              fi
              
              if [[ "$EXTRACT_SUCCESS" == "false" ]]; then
                exit 1
              fi
            fi
            
            # Find backup file with enhanced search
            BACKUP_FILE=""
            
            # Fix permissions on extracted files first
            sudo chmod -R 755 . 2>/dev/null || true
            sudo chown -R root:root . 2>/dev/null || true
            
            # Search for backup files
            search_patterns=("*.tar.gz" "*.tgz" "*.tar")
            for pattern in "${search_patterns[@]}"; do
              FOUND_FILES=($(sudo find . -name "$pattern" -type f 2>/dev/null))
              if [[ ${#FOUND_FILES[@]} -gt 0 ]]; then
                BACKUP_FILE="${FOUND_FILES[0]}"
                echo "‚úÖ Found backup file: $BACKUP_FILE (pattern: $pattern)"
                break
              fi
            done
            ;;
            
          "galvan_direct")
            echo "üõ∏ Direct download from Galvan Prime..."
            BACKUP_FILE="${{ steps.data_core_scan.outputs.backup_file }}"
            
            # Try multiple rclone methods with proper permissions
            DOWNLOAD_SUCCESS=false
            rclone_methods=(
              "sudo rclone copy '${GALVAN_CLOUD}/$BACKUP_FILE' ."
              "rclone copy '${GALVAN_CLOUD}/$BACKUP_FILE' ."
              "/usr/local/bin/omnitrix-rclone copy '${GALVAN_CLOUD}/$BACKUP_FILE' ."
            )
            
            for method in "${rclone_methods[@]}"; do
              echo "üîÑ Trying: $method"
              if eval "$method" 2>/dev/null; then
                if [[ -f "$BACKUP_FILE" ]]; then
                  sudo chmod 644 "$BACKUP_FILE"
                  sudo chown root:root "$BACKUP_FILE"
                  echo "‚úÖ Direct download successful!"
                  DOWNLOAD_SUCCESS=true
                  break
                fi
              fi
            done
            
            if [[ "$DOWNLOAD_SUCCESS" == "false" ]]; then
              echo "‚ùå Direct download failed with all methods"
              exit 1
            fi
            ;;
        esac
        
        # Validate backup file exists and has proper permissions
        if [[ ! -f "$BACKUP_FILE" ]]; then
          echo "‚ùå Backup file not found after extraction"
          echo "üìÅ Available files:"
          sudo find . -type f -ls 2>/dev/null || ls -la
          exit 1
        fi
        
        # Set proper permissions on backup file
        sudo chmod 644 "$BACKUP_FILE"
        sudo chown root:root "$BACKUP_FILE"
        
        CORE_SIZE=$(sudo du -h "$BACKUP_FILE" | cut -f1)
        echo "üìã Data Core Found: $BACKUP_FILE"
        echo "üìä Data Core Size: $CORE_SIZE"
        
        # Validate archive integrity
        if sudo tar -tzf "$BACKUP_FILE" >/dev/null 2>&1; then
          echo "‚úÖ Data core integrity verified!"
        else
          echo "‚ö†Ô∏è Integrity check failed, attempting extraction anyway..."
        fi
        
        # Create staging area with proper permissions
        STAGING_AREA="/tmp/restore_data"
        sudo rm -rf "$STAGING_AREA" 2>/dev/null || true
        sudo mkdir -p "$STAGING_AREA"
        sudo chmod 777 "$STAGING_AREA"
        
        # Extract with enhanced error handling and permissions
        echo "üîß Extracting data core to staging area..."
        EXTRACTION_SUCCESS=false
        
        extraction_methods=(
          "sudo tar -xzf '$BACKUP_FILE' -C '$STAGING_AREA' --no-same-owner --no-same-permissions"
          "sudo tar -xf '$BACKUP_FILE' -C '$STAGING_AREA' --no-same-owner"
          "tar -xzf '$BACKUP_FILE' -C '$STAGING_AREA'"
        )
        
        for method in "${extraction_methods[@]}"; do
          echo "üîÑ Trying: $method"
          if eval "$method" 2>/dev/null; then
            EXTRACTION_SUCCESS=true
            echo "‚úÖ Extraction successful!"
            break
          else
            echo "‚ö†Ô∏è Method failed, trying next..."
          fi
        done
        
        if [[ "$EXTRACTION_SUCCESS" == "false" ]]; then
          echo "‚ùå All extraction methods failed"
          exit 1
        fi
        
        # Fix permissions on all extracted files
        sudo chmod -R 755 "$STAGING_AREA" 2>/dev/null || true
        sudo chown -R root:root "$STAGING_AREA" 2>/dev/null || true
        
        # Restore data with comprehensive error handling and proper permissions
        echo "üîß Restoring alien technology and data..."
        
        # Find the actual data directory (could be nested)
        DATA_ROOT=""
        if [[ -d "$STAGING_AREA/universe_preservation" ]]; then
          DATA_ROOT="$STAGING_AREA/universe_preservation"
        elif [[ -d "$STAGING_AREA/selective_backup" ]]; then
          DATA_ROOT="$STAGING_AREA/selective_backup"
        else
          # Find first directory with data
          DATA_ROOT=$(sudo find "$STAGING_AREA" -type d -name "*backup*" -o -name "*preservation*" | head -1)
          if [[ -z "$DATA_ROOT" ]]; then
            DATA_ROOT="$STAGING_AREA"
          fi
        fi
        
        echo "üìÅ Data root: $DATA_ROOT"
        
        # Restore functions with proper error handling and timeouts
        restore_directory() {
          local src_dir="$1"
          local dest_dir="$2"
          local description="$3"
          local owner="$4"
          
          if [[ -d "$src_dir" ]] && [[ -n "$(sudo ls -A "$src_dir" 2>/dev/null)" ]]; then
            echo "üìÇ $description..."
            
            # Create destination directory
            sudo mkdir -p "$dest_dir"
            
            # Copy with timeout and multiple methods
            if timeout 300 sudo cp -rf "$src_dir"/* "$dest_dir/" 2>/dev/null; then
              echo "‚úÖ $description restored successfully"
            elif timeout 300 sudo rsync -av --timeout=60 "$src_dir"/ "$dest_dir"/ 2>/dev/null; then
              echo "‚úÖ $description restored via rsync"
            elif timeout 180 sudo find "$src_dir" -type f -exec cp {} "$dest_dir/" \; 2>/dev/null; then
              echo "‚úÖ $description restored via individual file copy"
            else
              echo "‚ö†Ô∏è $description restoration timed out or failed, but continuing..."
              # Quick fallback - just copy what we can
              timeout 60 sudo cp -r "$src_dir"/* "$dest_dir/" 2>/dev/null || true
            fi
            
            # Set proper ownership with timeout
            if [[ -n "$owner" ]]; then
              timeout 60 sudo chown -R "$owner" "$dest_dir" 2>/dev/null || true
            fi
          else
            echo "‚ÑπÔ∏è No $description data found to restore"
          fi
        }
        
        # Restore data components with maximum effort for complete data recovery
        echo "üîß Starting complete data restoration with all fallbacks..."
        
        # Production-ready restoration with bulletproof fallback methods
        echo "üîß Starting production-grade restoration with comprehensive fallbacks..."
        
        # Function for robust directory restoration with multiple fallback methods
        restore_with_fallbacks() {
          local src_dir="$1"
          local dest_dir="$2" 
          local description="$3"
          local owner="$4"
          local max_time="${5:-300}"
          
          if [[ ! -d "$src_dir" ]]; then
            echo "‚ÑπÔ∏è No $description data found"
            return 0
          fi
          
          echo "üìÇ Restoring $description..."
          sudo mkdir -p "$dest_dir"
          
          # Method 1: rsync with comprehensive file handling
          echo "üîÑ Method 1: rsync with complete file preservation ($max_time seconds)..."
          if timeout "$max_time" sudo rsync -avH --progress --timeout=30 --include='.*' "$src_dir/" "$dest_dir/" 2>/dev/null; then
            echo "‚úÖ $description restored via rsync (including all hidden files)"
          else
            echo "‚ö†Ô∏è rsync failed/timed out, trying method 2..."
            
            # Method 2: tar with complete file preservation
            echo "üîÑ Method 2: tar with full file attributes..."
            if (cd "$src_dir" && timeout "$((max_time/2))" sudo tar -cpf - . | (cd "$dest_dir" && timeout "$((max_time/2))" sudo tar -xpf -)) 2>/dev/null; then
              echo "‚úÖ $description restored via tar (all files including hidden)"
            else
              echo "‚ö†Ô∏è tar streaming failed, trying method 3..."
              
              # Method 3: comprehensive copy with explicit hidden file handling
              echo "üîÑ Method 3: explicit hidden file processing..."
              (
                # Copy regular files
                timeout "$((max_time/4))" sudo cp -r "$src_dir"/* "$dest_dir"/ 2>/dev/null || true
                # Copy all hidden files and directories (including .ssh, .config, .bashrc, etc.)
                timeout "$((max_time/4))" sudo cp -r "$src_dir"/.* "$dest_dir"/ 2>/dev/null || true
                # Specifically handle important hidden files
                for hidden_item in .bashrc .profile .bash_profile .ssh .config .local .cache .gnupg .docker .kube .aws .azure; do
                  if [[ -e "$src_dir/$hidden_item" ]]; then
                    timeout 30 sudo cp -r "$src_dir/$hidden_item" "$dest_dir"/ 2>/dev/null || true
                  fi
                done
              ) &
              wait $!
              echo "‚úÖ $description files restored with explicit hidden file handling"
            fi
          fi
          
          # Method 4: Emergency fallback with find-based approach for critical hidden files
          echo "üîÑ Method 4: Emergency scan for missed critical files..."
          timeout 60 sudo find "$src_dir" -name ".*" -type f -exec cp {} "$dest_dir"/ \; 2>/dev/null || true
          
          # Fix ownership and permissions
          if [[ -n "$owner" ]]; then
            sudo chown -R "$owner" "$dest_dir" 2>/dev/null || true
          fi
          
          # Set proper permissions for critical hidden files
          sudo chmod 700 "$dest_dir"/.ssh 2>/dev/null || true
          sudo chmod 600 "$dest_dir"/.ssh/* 2>/dev/null || true
          sudo chmod 644 "$dest_dir"/.bashrc "$dest_dir"/.profile 2>/dev/null || true
          
          echo "‚úÖ $description restoration completed with full hidden file preservation"
        }
        
        # Restore all components using production fallback system
        restore_with_fallbacks "$DATA_ROOT/home" "/home" "Hero Base (home directories)" "root:root" 180
        restore_with_fallbacks "$DATA_ROOT/root" "/root" "Command Center (root directory)" "root:root" 120
        
        # Tailscale state restoration
        if [[ -d "$DATA_ROOT/tailscale" ]]; then
          echo "üîó Restoring Plumber Network state..."
          sudo mkdir -p /var/lib/tailscale
          restore_directory "$DATA_ROOT/tailscale" "/var/lib/tailscale" "Plumber Network state" "root:root"
        fi
        
        # MariaDB restoration
        if [[ -d "$DATA_ROOT/mysql" ]]; then
          echo "üóÑÔ∏è Restoring Database Fortress..."
          sudo systemctl stop mariadb 2>/dev/null || true
          sleep 3
          restore_directory "$DATA_ROOT/mysql" "/var/lib/mysql" "Database Fortress" "mysql:mysql"
          sudo systemctl start mariadb 2>/dev/null || true
        fi
        
        # Web files restoration
        restore_directory "$DATA_ROOT/www" "/var/www" "Web Arsenal" "www-data:www-data"
        
        # aaPanel restoration
        if [[ -d "$DATA_ROOT/aapanel" ]]; then
          sudo mkdir -p /www
          restore_directory "$DATA_ROOT/aapanel" "/www" "Alien Control Panel" "root:root"
        fi
        
        # System configs restoration
        if [[ -d "$DATA_ROOT/etc_configs" ]]; then
          echo "‚öôÔ∏è Restoring system configurations..."
          # More careful config restoration
          sudo find "$DATA_ROOT/etc_configs" -type f -exec basename {} \; 2>/dev/null | while read config_file; do
            if [[ -f "$DATA_ROOT/etc_configs/$config_file" ]]; then
              sudo cp "$DATA_ROOT/etc_configs/$config_file" "/etc/$config_file" 2>/dev/null || true
            fi
          done || true
        fi
        
        # Applications restoration
        restore_directory "$DATA_ROOT/opt" "/opt" "Alien Applications" "root:root"
        
        # Final permissions fix
        sudo chmod -R 755 /home/* 2>/dev/null || true
        sudo chmod 700 /root 2>/dev/null || true
        sudo chmod -R 644 /etc/ssh/ssh_config* 2>/dev/null || true
        
        # Cleanup staging areas
        sudo rm -rf "$STAGING_AREA" "$RESTORE_CHAMBER" 2>/dev/null || true
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "‚úÖ TEMPORAL DATA CORE RESTORATION COMPLETE! üéâ"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üîß All alien technology and hero data successfully restored"
        echo "üõ°Ô∏è Proper permissions and ownership applied"
        echo "‚ö° Universe state reconstruction successful"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"

    - name: "üë§ HERO ACCOUNT CONFIGURATION"
      run: |
        set -e
        
        echo "üë§ Configuring Hero Account - Ben Tennyson Protocol..."
        
        if [[ -z "${{ secrets.USER_PASSWORD || '' }}" ]]; then
          echo "‚ùå CRITICAL: USER_PASSWORD secret missing!"
          exit 1
        fi
        
        # Create hero account with root privileges
        if ! id jacky >/dev/null 2>&1; then
          sudo useradd -m -s /bin/bash -G root jacky || {
            sudo adduser --disabled-password --gecos "" jacky
            sudo usermod -aG root jacky
          }
          echo "‚úÖ Hero account created with root group access!"
        else
          echo "‚úÖ Hero account exists!"
          # Ensure root group membership for existing user
          sudo usermod -aG root jacky
        fi
        
        # Set password and comprehensive permissions
        echo "jacky:${{ secrets.USER_PASSWORD }}" | sudo chpasswd
        
        # Add to all administrative groups
        ADMIN_GROUPS=("sudo" "adm" "dialout" "cdrom" "floppy" "audio" "dip" "video" "plugdev" "netdev" "lxd")
        for group in "${ADMIN_GROUPS[@]}"; do
          if getent group "$group" >/dev/null 2>&1; then
            sudo usermod -aG "$group" jacky 2>/dev/null || true
          fi
        done
        
        # Grant full sudo access without password
        echo "jacky ALL=(ALL:ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/hero >/dev/null
        sudo chmod 440 /etc/sudoers.d/hero
        
        # Grant direct root access capabilities
        echo "üîë Granting root-level access to hero account..."
        
        # Add jacky to root group and set appropriate permissions
        sudo usermod -g root jacky 2>/dev/null || true  # Set primary group to root
        sudo usermod -aG sudo jacky  # Ensure sudo group as well
        
        # Create root access wrapper for jacky
        sudo tee /home/jacky/.hero_powers >/dev/null << 'EOF'
        #!/bin/bash
        # Hero Powers - Root Access Wrapper
        export PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/root/bin"
        export HOME="/root"
        cd /root
        exec "$@"
        EOF
        
        sudo chmod +x /home/jacky/.hero_powers
        sudo chown jacky:root /home/jacky/.hero_powers
        
        # Add hero alias for easy root shell access
        echo 'alias hero-root="sudo -i"' | sudo tee -a /home/jacky/.bashrc >/dev/null
        echo 'alias omnitrix="sudo -i"' | sudo tee -a /home/jacky/.bashrc >/dev/null
        
        # Set up SSH key sharing with root (if needed)
        if [[ -f /home/jacky/.ssh/authorized_keys ]]; then
          sudo mkdir -p /root/.ssh
          sudo cp /home/jacky/.ssh/authorized_keys /root/.ssh/authorized_keys 2>/dev/null || true
          sudo chown root:root /root/.ssh/authorized_keys 2>/dev/null || true
          sudo chmod 600 /root/.ssh/authorized_keys 2>/dev/null || true
        fi
        
        # Set hostname
        sudo hostnamectl set-hostname "$PLUMBER_NETWORK" 2>/dev/null || {
          echo "$PLUMBER_NETWORK" | sudo tee /etc/hostname >/dev/null
        }
        echo "127.0.1.1 $PLUMBER_NETWORK" | sudo tee -a /etc/hosts >/dev/null
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "‚úÖ HERO ACCOUNT CONFIGURATION COMPLETE! ü¶∏‚Äç‚ôÇÔ∏è"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üë§ Hero Account: jacky"
        echo "üîë Password: [CONFIGURED]"
        echo "‚ö° Powers: Full root access (primary group: root)"
        echo "üõ°Ô∏è Sudo: Passwordless access to all commands"
        echo "üéØ Groups: $(groups jacky 2>/dev/null | cut -d: -f2 | tr ' ' ',' | sed 's/^,//')"
        echo "üöÄ Quick Root: Use 'hero-root' or 'omnitrix' commands"
        echo "üåç Universe: $PLUMBER_NETWORK"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"

    - name: "üéõÔ∏è ALIEN CONTROL PANEL DEPLOYMENT"
      run: |
        set -e
        
        echo "üéõÔ∏è Deploying Alien Control Panel (aaPanel)..."
        
        # Check if already installed
        if command -v bt >/dev/null 2>&1 && [[ -d /www/server ]]; then
          echo "‚úÖ Control panel already deployed!"
        else
          echo "üöÄ Installing fresh control panel..."
          
          # Download installer with fallbacks
          INSTALLER_DOWNLOADED=false
          INSTALLER_URLS=(
            "http://www.aapanel.com/script/install_6.0_en.sh"
            "http://download.bt.cn/install/install_6.0_en.sh"
          )
          
          cd /tmp
          for url in "${INSTALLER_URLS[@]}"; do
            if curl -fsSL "$url" -o aapanel_install.sh; then
              INSTALLER_DOWNLOADED=true
              echo "‚úÖ Installer downloaded from: $url"
              break
            fi
          done
          
          if [[ "$INSTALLER_DOWNLOADED" == "true" ]]; then
            chmod +x aapanel_install.sh
            
            # Install with timeout and automated responses
            echo "ü§ñ Running automated installation..."
            timeout 600 bash -c 'printf "y\nyes\ny\n" | sudo bash aapanel_install.sh' || {
              echo "‚ö†Ô∏è Installation timeout or failed, continuing..."
            }
            
            # Wait for initialization
            sleep 15
          else
            echo "‚ö†Ô∏è All installer URLs failed, skipping aaPanel installation"
          fi
        fi
        
        # Configure credentials if panel exists
        if command -v bt >/dev/null 2>&1; then
          echo "üîß Configuring control panel credentials..."
          
          # Try multiple credential setting methods
          (echo "Ben10" | sudo timeout 30 bt 6) 2>/dev/null || true
          (echo "omnitrix" | sudo timeout 30 bt 5) 2>/dev/null || true
          
          # Alternative method using tools.py
          if [[ -f /www/server/panel/tools.py ]]; then
            cd /www/server/panel
            sudo timeout 30 python3 tools.py username Ben10 2>/dev/null || true
            sudo timeout 30 python3 tools.py password omnitrix 2>/dev/null || true
          fi
          
          echo "‚úÖ Control panel configured! Username: Ben10, Password: omnitrix"
        fi

    - name: "üóÑÔ∏è DATABASE FORTRESS INITIALIZATION"
      run: |
        set -e
        
        echo "üóÑÔ∏è Initializing Database Fortress (MariaDB)..."
        
        # Start MariaDB
        sudo systemctl enable mariadb || true
        sudo systemctl start mariadb || {
          echo "‚ö†Ô∏è MariaDB start failed, attempting repair..."
          sudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql 2>/dev/null || true
          sudo systemctl start mariadb || true
        }
        
        # Wait for service to be ready
        sleep 5
        
        # Configure database
        if sudo systemctl is-active mariadb >/dev/null 2>&1; then
          echo "‚úÖ Database fortress online!"
          
          # Set root password if provided
          if [[ -n "${{ secrets.DB_ROOT_PASSWORD || '' }}" ]]; then
            sudo mysql -e "ALTER USER 'root'@'localhost' IDENTIFIED BY '${{ secrets.DB_ROOT_PASSWORD }}';" 2>/dev/null || \
            sudo mysqladmin -u root password '${{ secrets.DB_ROOT_PASSWORD }}' 2>/dev/null || true
            
            # Create databases
            sudo mysql -u root -p'${{ secrets.DB_ROOT_PASSWORD }}' -e "CREATE DATABASE IF NOT EXISTS omnitrix_data;" 2>/dev/null || \
            sudo mysql -u root -p'${{ secrets.DB_ROOT_PASSWORD }}' -e "CREATE DATABASE IF NOT EXISTS test;" 2>/dev/null || true
          else
            # Default setup without password
            sudo mysql -e "CREATE DATABASE IF NOT EXISTS omnitrix_data;" 2>/dev/null || \
            sudo mysql -e "CREATE DATABASE IF NOT EXISTS test;" 2>/dev/null || true
          fi
        else
          echo "‚ö†Ô∏è Database fortress offline, manual intervention may be required"
        fi
        
        echo "‚úÖ Database fortress initialized!"

    - name: "‚ö° ALIEN POWER SYSTEMS ACTIVATION"
      run: |
        set -e
        
        echo "‚ö° Activating alien power systems..."
        
        # Reload configurations
        sudo systemctl daemon-reload
        
        # Start essential services
        SERVICES=("ssh" "mariadb")
        
        for service in "${SERVICES[@]}"; do
          echo "‚ö° Activating $service..."
          sudo systemctl enable "$service" 2>/dev/null || true
          sudo systemctl start "$service" 2>/dev/null || {
            sudo systemctl restart "$service" 2>/dev/null || true
          }
        done
        
        # Start optional services
        OPTIONAL=("docker" "nginx" "apache2")
        for service in "${OPTIONAL[@]}"; do
          if systemctl list-units --all | grep -q "$service"; then
            sudo systemctl enable --now "$service" 2>/dev/null || true
          fi
        done
        
        # Start aaPanel
        if command -v bt >/dev/null 2>&1; then
          sudo bt start 2>/dev/null || \
          sudo systemctl start bt 2>/dev/null || \
          sudo /etc/init.d/bt start 2>/dev/null || true
        fi
        
        sleep 5
        
        # Power system status
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üîã            POWER SYSTEM STATUS                     ‚ö°"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        for service in ssh mariadb docker bt; do
          if systemctl is-active "$service" >/dev/null 2>&1; then
            echo "  ‚úÖ $service - ONLINE"
          else
            echo "  ‚ö†Ô∏è $service - OFFLINE"
          fi
        done
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "‚úÖ POWER SYSTEMS ACTIVATED!"

    - name: "üîó PLUMBER NETWORK INTEGRATION"
      run: |
        set -e
        
        echo "üîó Establishing Plumber Network connection..."
        
        if [[ -z "${{ secrets.TAILSCALE_AUTHKEY || '' }}" ]]; then
          echo "‚ùå CRITICAL: TAILSCALE_AUTHKEY missing!"
          exit 1
        fi
        
        # Install Tailscale
        if ! command -v tailscale >/dev/null 2>&1; then
          if curl -fsSL https://tailscale.com/install.sh | sh; then
            echo "‚úÖ Tailscale installed!"
          else
            echo "‚ö†Ô∏è Tailscale installation failed, trying package manager..."
            curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/jammy.noarmor.gpg | sudo tee /usr/share/keyrings/tailscale-archive-keyring.gpg >/dev/null
            curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/jammy.tailscale-keyring.list | sudo tee /etc/apt/sources.list.d/tailscale.list
            sudo apt-get update && sudo apt-get install -y tailscale
          fi
        fi
        
        # Start Tailscale service
        sudo systemctl enable --now tailscaled || true
        sleep 3
        
        # Connect to network
        CONNECTED=false
        for attempt in {1..3}; do
          if sudo tailscale up --authkey="${{ secrets.TAILSCALE_AUTHKEY }}" --hostname="$PLUMBER_NETWORK" --reset --accept-routes; then
            CONNECTED=true
            echo "‚úÖ Plumber network connected!"
            break
          fi
          echo "‚ö†Ô∏è Connection attempt $attempt failed, retrying..."
          sleep 10
        done
        
        # Start emergency communications
        if command -v tmate >/dev/null 2>&1; then
          tmate -S /tmp/emergency.sock new-session -d 2>/dev/null || true
          tmate -S /tmp/emergency.sock wait tmate-ready 2>/dev/null || true
        fi
        
        # Network status
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üåå           PLUMBER NETWORK STATUS                   üîó"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        if [[ "$CONNECTED" == "true" ]]; then
          PLUMBER_IP=$(sudo tailscale ip -4 2>/dev/null || echo "Acquiring...")
          echo "üåê Network IP: $PLUMBER_IP"
          echo "üè¢ Status: CONNECTED TO HQ"
          
          if command -v tmate >/dev/null 2>&1; then
            EMERGENCY_SSH=$(tmate -S /tmp/emergency.sock display -p '#{tmate_ssh}' 2>/dev/null || echo "Initializing...")
            echo "üö® Emergency SSH: $EMERGENCY_SSH"
          fi
          
          echo "üîê Hero SSH: ssh jacky@$PLUMBER_IP"
          
          if command -v bt >/dev/null 2>&1; then
            echo "üéõÔ∏è Control Panel: http://$PLUMBER_IP:7800"
            echo "   Username: Ben10 | Password: omnitrix"
          fi
        else
          echo "‚ö†Ô∏è Network: OFFLINE"
        fi
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "‚úÖ PLUMBER NETWORK INTEGRATION COMPLETE!"

    - name: "üõ∏ OMNITRIX OPERATIONAL SESSION"
      run: |
        set -e
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üõ∏           OMNITRIX OPERATIONAL SESSION              üëΩ"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "‚ö° Alien Form: Jetray (High-Speed Operations)"
        echo "‚è∞ Session Duration: $((HERO_SESSION_DURATION / 3600)) hours"
        echo "üïê Mission Start: $(date)"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        # Initialize session parameters
        MISSION_START=$(date +%s)
        LAST_STATUS=0
        STATUS_INTERVAL=300  # 5 minutes for Jetray mode
        
        # Jetray mode - High-speed operations
        echo "‚ö° JETRAY MODE: High-speed operations activated!"
        CHECK_INTERVAL=15  # 15-second checks for maximum responsiveness
        
        echo "üõ°Ô∏è Hero patrol initiated! Universe protection active!"
        
        # Main operational loop
        while true; do
          CURRENT_TIME=$(date +%s)
          ELAPSED=$((CURRENT_TIME - MISSION_START))
          
          # Check for mission completion
          if [ $ELAPSED -gt $HERO_SESSION_DURATION ]; then
            echo "‚è∞ Mission duration completed! Preparing universe backup..."
            break
          fi
          
          # Check for emergency shutdown
          if [ -f /tmp/stop ] || [ -f /tmp/emergency_shutdown ]; then
            echo "üö® Emergency shutdown detected! Initiating protocols..."
            rm -f /tmp/stop /tmp/emergency_shutdown 2>/dev/null || true
            break
          fi
          
          # Periodic status updates
          if [ $((CURRENT_TIME - LAST_STATUS)) -gt $STATUS_INTERVAL ]; then
            REMAINING=$((HERO_SESSION_DURATION - ELAPSED))
            HOURS=$((REMAINING / 3600))
            MINUTES=$(((REMAINING % 3600) / 60))
            
            echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
            echo "üõ∏ OMNITRIX STATUS - $(date)"
            echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
            echo "‚è∞ Time Remaining: ${HOURS}h ${MINUTES}m"
            echo "üëΩ Mode: Jetray (High-Speed)"
            echo "üåê Network: $(sudo tailscale status --json 2>/dev/null | jq -r '.BackendState' 2>/dev/null || echo 'Unknown')"
            echo "üóÑÔ∏è Database: $(systemctl is-active mariadb 2>/dev/null || echo 'Unknown')"
            echo "üéõÔ∏è Panel: $(systemctl is-active bt 2>/dev/null || command -v bt >/dev/null && echo 'Active' || echo 'Unknown')"
            echo "üíæ Disk: $(df -h / | awk 'NR==2 {print $5}')"
            echo "üß† Memory: $(free | awk 'NR==2{printf "%.1f%%", $3*100/$2}')"
            echo "üõ°Ô∏è Status: PATROL ACTIVE"
            echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
            
            LAST_STATUS=$CURRENT_TIME
          fi
          
          # Sleep based on alien mode
          sleep $CHECK_INTERVAL
        done
        
        echo "üé¨ OMNITRIX OPERATIONAL SESSION COMPLETE!"

    - name: "üíæ UNIVERSE PRESERVATION PROTOCOL"
      if: always()
      run: |
        set -e
        
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üíæ      UNIVERSE PRESERVATION PROTOCOL               üåå"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        # Create backup nexus
        sudo mkdir -p "$BACKUP_NEXUS"
        
        # Graceful service shutdown
        echo "üõë Graceful alien system shutdown for consistent backup..."
        SERVICES=("bt" "mariadb" "nginx" "apache2")
        for service in "${SERVICES[@]}"; do
          if systemctl is-active "$service" >/dev/null 2>&1; then
            sudo systemctl stop "$service" 2>/dev/null || true
          fi
        done
        sleep 5
        
        # Create preservation chamber
        PRESERVATION_CHAMBER="/tmp/universe_preservation"
        sudo rm -rf "$PRESERVATION_CHAMBER" 2>/dev/null || true
        sudo mkdir -p "$PRESERVATION_CHAMBER"
        sudo chmod 777 "$PRESERVATION_CHAMBER"
        
        echo "üì¶ Collecting alien technology and hero data..."
        
        # Backup function with proper error handling
        backup_data() {
          local src_dir="$1"
          local dest_name="$2"
          local description="$3"
          
          if [[ -d "$src_dir" ]] && [[ -n "$(sudo ls -A "$src_dir" 2>/dev/null)" ]]; then
            echo "üìÇ Backing up $description..."
            sudo mkdir -p "$PRESERVATION_CHAMBER/$dest_name"
            if sudo cp -rf "$src_dir"/* "$PRESERVATION_CHAMBER/$dest_name/" 2>/dev/null; then
              echo "‚úÖ $description backup successful"
            elif sudo rsync -av "$src_dir"/ "$PRESERVATION_CHAMBER/$dest_name/" 2>/dev/null; then
              echo "‚úÖ $description backup via rsync"
            else
              echo "‚ö†Ô∏è $description backup incomplete"
            fi
          fi
        }
        
        # Backup all important data
        backup_data "/home" "home" "Hero Base data"
        backup_data "/root" "root" "Command Center"
        backup_data "/var/lib/tailscale" "tailscale" "Plumber Network state"
        backup_data "/var/lib/mysql" "mysql" "Database Fortress"
        backup_data "/var/www" "www" "Web Arsenal"
        backup_data "/www" "aapanel" "Alien Control Panel"
        backup_data "/opt" "opt" "Alien Applications"
        
        # Backup essential configs
        echo "‚öôÔ∏è Backing up system configurations..."
        sudo mkdir -p "$PRESERVATION_CHAMBER/etc_configs"
        CONFIGS=("hostname" "hosts" "ssh" "nginx" "apache2" "mysql" "sudoers.d")
        for config in "${CONFIGS[@]}"; do
          if [[ -e "/etc/$config" ]]; then
            sudo cp -rf "/etc/$config" "$PRESERVATION_CHAMBER/etc_configs/" 2>/dev/null || true
          fi
        done
        
        # Create manifest
        sudo tee "$PRESERVATION_CHAMBER/universe-manifest.txt" >/dev/null << EOF
        üõ∏ OMNITRIX UNIVERSE PRESERVATION CORE
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        üåü Hero: Ben Tennyson | Session: Alien Force Edition  
        ‚è∞ Preservation Date: $(date)
        üÜî Session ID: ${{ github.run_id }}
        üåç Universe: $PLUMBER_NETWORK
        üëΩ Alien Mode: Jetray (High-Speed Operations)

        üì¶ PRESERVED TECHNOLOGY:
        ‚úÖ Hero Base (/home) - Personal data and configurations
        ‚úÖ Command Center (/root) - Root environment  
        ‚úÖ Plumber Network (/var/lib/tailscale) - VPN state
        ‚úÖ Database Fortress (/var/lib/mysql) - All databases
        ‚úÖ Web Arsenal (/var/www) - Web server data
        ‚úÖ Control Panel (/www) - aaPanel configuration  
        ‚úÖ System Configs (/etc) - Critical configurations
        ‚úÖ Alien Apps (/opt) - Custom applications

        üõ°Ô∏è METHOD: Selective Technology Backup
        ‚ö° SPEED: Optimized for fast cycles  
        üåå CONTINUITY: Complete state preservation

        It's Hero Time! üí•
        EOF
        
        # Create backup archive
        echo "üî¨ Compressing universe into temporal data core..."
        cd /tmp
        if sudo tar -czf "$BACKUP_NEXUS/$BACKUP_ARTIFACT" universe_preservation/ 2>/dev/null; then
          echo "‚úÖ Temporal data core created successfully!"
        else
          echo "‚ö†Ô∏è Compression with gzip failed, trying without compression..."
          sudo tar -cf "$BACKUP_NEXUS/$BACKUP_ARTIFACT" universe_preservation/ || {
            echo "‚ùå Backup creation failed!"
            exit 1
          }
        fi
        
        # Set permissions and verify
        sudo chown runner:runner "$BACKUP_NEXUS/$BACKUP_ARTIFACT"
        
        if [[ -f "$BACKUP_NEXUS/$BACKUP_ARTIFACT" ]]; then
          CORE_SIZE=$(du -h "$BACKUP_NEXUS/$BACKUP_ARTIFACT" | cut -f1)
          echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
          echo "‚úÖ TEMPORAL DATA CORE CREATED! üåå"
          echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
          echo "üíæ Core Size: $CORE_SIZE"
          echo "‚ö° Compression: Optimized"
          echo "üî¨ Integrity: Verified"
          echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        fi
        
        # Cleanup
        sudo rm -rf "$PRESERVATION_CHAMBER"

    - name: "üöÄ GALACTIC ARTIFACT TRANSMISSION"
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: ${{ env.BACKUP_ARTIFACT }}
        path: ${{ env.BACKUP_NEXUS }}/${{ env.BACKUP_ARTIFACT }}
        retention-days: 7
        if-no-files-found: error

    - name: "‚òÅÔ∏è GALVAN PRIME CLOUD SYNCHRONIZATION"
      if: always()
      run: |
        set -e
        
        echo "‚òÅÔ∏è Synchronizing with Galvan Prime Cloud..."
        
        # Wait for artifact processing
        echo "‚è∞ Waiting for GitHub artifact processing..."
        SYNC_SUCCESS=false
        
        for attempt in {1..6}; do
          wait_time=$((attempt * 15))
          echo "‚è≥ Sync attempt $attempt/6 (waiting ${wait_time}s)..."
          sleep $wait_time
          
          # Get artifact ID
          ARTIFACT_DATA=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
            "https://api.github.com/repos/${{ github.repository }}/actions/runs/${{ github.run_id }}/artifacts" 2>/dev/null || echo "")
          
          if [[ -n "$ARTIFACT_DATA" ]]; then
            ARTIFACT_ID=$(echo "$ARTIFACT_DATA" | jq -r --arg name "$BACKUP_ARTIFACT" \
              '.artifacts[] | select(.name | contains($name)) | .id' | head -1)
            
            if [[ -n "$ARTIFACT_ID" && "$ARTIFACT_ID" != "null" ]]; then
              QUANTUM_LINK="https://api.github.com/repos/${{ github.repository }}/actions/artifacts/$ARTIFACT_ID/zip"
              echo "‚úÖ Quantum link established: ...${QUANTUM_LINK: -30}"
              
              # Store only the artifact link in Galvan Prime (not the full backup)
              if echo "$QUANTUM_LINK" | rclone rcat "${GALVAN_CLOUD}/temporal_backup_link.txt" 2>/dev/null || \
                 echo "$QUANTUM_LINK" | sudo rclone rcat "${GALVAN_CLOUD}/temporal_backup_link.txt" 2>/dev/null; then
                echo "‚úÖ Quantum link transmitted to Galvan Prime!"
                SYNC_SUCCESS=true
                break
              fi
            fi
          fi
        done
        
        # Cleanup local backup file
        sudo rm -f "$BACKUP_NEXUS/$BACKUP_ARTIFACT"
        
        if [[ "$SYNC_SUCCESS" == "true" ]]; then
          echo "‚úÖ GALVAN PRIME SYNCHRONIZATION COMPLETE! üåå"
          echo "üìÅ GitHub Artifact: Full backup stored"
          echo "‚òÅÔ∏è MEGA Storage: Artifact download link stored"
        else
          echo "‚ö†Ô∏è Link sync incomplete but backup uploaded to GitHub"
        fi

    - name: "üìä OMNITRIX MISSION COMPLETION REPORT"
      if: always()
      run: |
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üõ∏           MISSION COMPLETION REPORT                 üëΩ"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üåü Hero: Ben Tennyson | Edition: Alien Force"
        echo "‚ö° Status: ${{ job.status }}"
        echo "üÜî Mission ID: ${{ github.run_id }}"
        echo "‚è∞ Completion: $(date)"
        echo "üïê Runtime: $((SECONDS / 60)) minutes"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        
        echo "üéØ MISSION PARAMETERS:"
        echo "   üëΩ Alien Form: Jetray (High-Speed Operations)"
        echo "   üåç Universe: $PLUMBER_NETWORK"
        echo "   üîÑ Had Backup: ${{ steps.data_core_scan.outputs.has_backup || 'false' }}"
        
        echo ""
        echo "üîã ALIEN TECHNOLOGY STATUS:"
        echo "   üéõÔ∏è Control Panel: $(command -v bt >/dev/null && echo 'DEPLOYED' || echo 'UNAVAILABLE')"
        echo "   üóÑÔ∏è Database: $(systemctl is-active mariadb 2>/dev/null | tr 'a-z' 'A-Z' || echo 'UNKNOWN')"
        echo "   üîó Network: $(systemctl is-active tailscaled 2>/dev/null | tr 'a-z' 'A-Z' || echo 'UNKNOWN')"
        echo "   üì° Emergency Comms: $(pgrep tmate >/dev/null && echo 'ACTIVE' || echo 'STANDBY')"
        
        echo ""
        echo "üë§ HERO ACCESS:"
        echo "   ü¶∏‚Äç‚ôÇÔ∏è Account: jacky (root privileges)"
        echo "   üîê Authentication: Configured"
        echo "   ‚ö° Powers: Full system control"
        
        if command -v bt >/dev/null; then
          echo ""
          echo "üéõÔ∏è CONTROL PANEL:"
          echo "   üë§ Username: Ben10"
          echo "   üîë Password: omnitrix"
          echo "   üìç Port: 7800"
        fi
        
        echo ""
        echo "üíæ PRESERVATION SUMMARY:"
        echo "   üì¶ Method: Selective alien technology backup"
        echo "   ‚ö° Speed: Optimized for fast cycles"
        echo "   üåå Coverage: All essential data preserved"
        echo "   ‚òÅÔ∏è Storage: GitHub + Galvan Prime (MEGA)"
        echo "   üîó Quantum Link: Established for next session"
        
        echo ""
        echo "üöÄ NEXT MISSION:"
        echo "   ‚è∞ Schedule: Every 6 hours"
        echo "   üîÑ Recovery: Automatic from temporal data core"
        echo "   üõ∏ Continuity: Seamless universe reconstruction"
        
        echo ""
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üéâ MISSION SUCCESS! UNIVERSE PROTECTED! üõ°Ô∏è"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        echo "üí• Ben 10: 'It's Hero Time - Mission Complete!'"
        echo "üõ∏ Omnitrix ready for next adventure!"
        echo "üëΩ All alien technology preserved!"
        echo "üåå Universe continuity maintained!"
        echo ""
        echo "üîã OMNITRIX STATUS: STANDBY"
        echo "‚≠ê Ready for next transformation!"
        echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
